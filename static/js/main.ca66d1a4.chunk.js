(this.webpackJsonptmdb_movie_search=this.webpackJsonptmdb_movie_search||[]).push([[0],{137:function(e,a,t){e.exports=t.p+"static/media/glyphicons-basic-picture.7ebd0560.svg"},140:function(e,a,t){e.exports=t.p+"static/media/tmdb.27b65cb4.svg"},163:function(e,a,t){e.exports=t(309)},170:function(e,a,t){},305:function(e,a,t){},307:function(e,a,t){},308:function(e,a,t){},309:function(e,a,t){"use strict";t.r(a);var n,r=t(0),c=t.n(r),l=t(31),i=t.n(l),o=(t(168),t(317)),s=t(39),m=t.n(s),u=t(64),d=t(138),v=t(139),g=t(152),p=t(150),h=t(321),f=t(149),E=t(320),b=(t(170),t(140)),k=t.n(b),w=function(e){return c.a.createElement("div",{className:"nav"},c.a.createElement(h.a,{verticalAlign:"middle"},c.a.createElement(h.a.Column,{width:4},c.a.createElement(f.a,{src:k.a,size:"small",wrapped:!0})),c.a.createElement(h.a.Column,{width:12},c.a.createElement(E.a,{transparent:!0,inverted:!0,className:"full-width",onChange:e.onChange,placeholder:"Search Movie Title..."}))))},_=t(319),y=t(41),N=t.n(y),C={},j=function(){var e;return function(){var a=Object(u.a)(m.a.mark((function a(t){var n,r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&e.cancel(),e=N.a.CancelToken.source(),a.prev=2,!C[t]){a.next=5;break}return a.abrupt("return",C[t]);case 5:return a.next=7,N()(t,{cancelToken:e.token});case 7:return n=a.sent,r=n.data.results,C[t]=r,a.abrupt("return",r);case 13:a.prev=13,a.t0=a.catch(2),N.a.isCancel(a.t0)?console.log("Request canceled",a.t0.message):console.log("Something went wrong: ",a.t0.message);case 16:case"end":return a.stop()}}),a,null,[[2,13]])})));return function(e){return a.apply(this,arguments)}}()}(),O=t(37),S=(t(305),function(e){var a,n,r=e.item,l=r.title,i=r.poster_path,o=r.vote_average,s=r.name,m=r.id;return c.a.createElement(h.a.Column,{className:"movies"},c.a.createElement(O.b,{to:"/".concat(m)},c.a.createElement(_.a,{className:i?"":"no_image_holder"},c.a.createElement(f.a,{src:i?"http://image.tmdb.org/t/p/w185".concat(i):t(137),wrapped:!0,ui:!1}),c.a.createElement(_.a.Content,null,c.a.createElement(_.a.Header,null,(n=19,(a=l||s).length>n?a.trim().substring(0,n-3).trim()+"...":a)),c.a.createElement(_.a.Meta,null,o)))))}),x=function(e){var a=e.list,t=c.a.createElement("h3",null,"Loading...");return a&&(t=a.map((function(e,a){return c.a.createElement(S,{key:a,item:e})}))),c.a.createElement(h.a,{doubling:!0,columns:5,divided:"vertically"},c.a.createElement(h.a.Row,null,t))},T=t(316),M=t(315),z=t(322),I=t(28),R=t(151),H=t(42);t(307);function q(e){var a=[];return void 0!==e&&e.forEach((function(e){a.push(e.name)})),a.join(", ")}var A=function(){var e=Object(I.g)().movieId,a=Object(r.useState)(null),l=Object(R.a)(a,2),i=l[0],o=l[1],s=Object(I.f)();if(Object(r.useEffect)((function(){N()("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=cfe422613b250f702980a3bbf9e90716")).then((function(e){o(e.data)})).catch((function(e){return console.log(e)}))})),Object(r.useEffect)((function(){n&&(document.body.style.backgroundImage="url("+n+")")})),i){var m=i.title,u=i.tagline,d=i.genres,v=i.release_date,g=i.production_companies,p=i.runtime,E=i.overview,b=i.poster_path,k=i.vote_average,w=i.name,y=q(d),C=q(g);b&&(n="https://image.tmdb.org/t/p/original"+b);return c.a.createElement("div",{className:"full-view-card"},c.a.createElement("div",null,c.a.createElement("a",{className:"back-link",onClick:function(){document.body.style.backgroundImage="none",s.goBack()},title:"Go back"},c.a.createElement(H.a,{link:!0,size:"large",name:"arrow alternate circle left outline"}))),c.a.createElement(_.a,null,c.a.createElement("div",{className:"full-view-card__image ".concat(b?"":"no_image_holder")},c.a.createElement(f.a,{src:b?"http://image.tmdb.org/t/p/w500".concat(b):t(137)})),c.a.createElement(_.a.Content,null,c.a.createElement(z.a,{as:"h1"},m||w),c.a.createElement(M.a,null),c.a.createElement(_.a.Meta,{className:"tagline"},u),c.a.createElement(_.a.Description,null,c.a.createElement("p",null,E),c.a.createElement("div",{className:"additional-details"},c.a.createElement(z.a,{sub:!0,className:"genre-list"},y),c.a.createElement("p",null,C),c.a.createElement(h.a,{columns:2},c.a.createElement(h.a.Row,{className:"release-details"},c.a.createElement(h.a.Column,null,"Original Release: ",c.a.createElement("span",{className:"meta-data"},v)),c.a.createElement(h.a.Column,null,"Running Time: ",c.a.createElement("span",{className:"meta-data"},p," mins")),c.a.createElement(h.a.Column,null," Vote Average: ",c.a.createElement("span",{className:"meta-data"},k," / 10")))))))))}return c.a.createElement(z.a,{as:"h2"},"No info")},B=function(e){Object(g.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).search=function(e){n.setState({loading:!0});var a=n.props,t=a.location,r=a.history;if(!e)return n.getTrending();j("https://api.themoviedb.org/3/search/movie?api_key=cfe422613b250f702980a3bbf9e90716&query=".concat(e)).then((function(e){"/"!==t.pathname&&r.push("/"),n.setState({movies:e,loading:!1})}))},n.getTrending=function(){n.setState({loading:!0}),j("https://api.themoviedb.org/3/trending/all/week?api_key=cfe422613b250f702980a3bbf9e90716").then((function(e){n.setState({movies:e,loading:!1})}))},n.onChangeHandler=function(){var e=Object(u.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.search(a.target.value),n.setState({value:a.target.value});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.renderMovies=function(){if(n.state.loading)return c.a.createElement(T.a,{active:!0,size:"large"},"Loading");var e=c.a.createElement(M.a,{className:"white-color",horizontal:!0},c.a.createElement(z.a,{as:"h3"},"There's no movies"));return n.state.movies&&n.state.movies.length&&(e=n.state.value?c.a.createElement(x,{list:n.state.movies}):c.a.createElement("div",null,c.a.createElement(M.a,{horizontal:!0},c.a.createElement(z.a,{className:"white-color",as:"h2",icon:"star",content:"Weekly trending"})),c.a.createElement(x,{list:n.state.movies}))),e},n.state={movies:null,loading:!1,value:""},n}return Object(v.a)(t,[{key:"componentDidMount",value:function(){this.getTrending()}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(w,{onChange:this.onChangeHandler}),c.a.createElement(I.c,null,c.a.createElement(I.a,{path:"/",exact:!0,render:this.renderMovies}),c.a.createElement(I.a,{path:"/:movieId",component:A})))}}]),t}(r.Component),D=Object(I.h)(B);var J=function(){return c.a.createElement("div",{className:"outer-container"},c.a.createElement(o.a,null,c.a.createElement(D,null)))};t(308);i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(O.a,{basename:"/tmdb_movie_search"},c.a.createElement(J,null))),document.getElementById("root"))}},[[163,1,2]]]);
//# sourceMappingURL=main.ca66d1a4.chunk.js.map