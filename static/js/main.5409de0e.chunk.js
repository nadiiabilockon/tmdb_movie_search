(this.webpackJsonptmdb_movie_search=this.webpackJsonptmdb_movie_search||[]).push([[0],{141:function(e,t,a){e.exports=a.p+"static/media/glyphicons-basic-picture.7ebd0560.svg"},142:function(e,t,a){e.exports=a.p+"static/media/tmdb.27b65cb4.svg"},163:function(e,t,a){e.exports=a(309)},170:function(e,t,a){},305:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),c=a.n(l),i=(a(168),a(317)),o=a(40),s=a.n(o),m=a(64),u=a(65),d=a(66),p=a(72),v=a(70),g=a(321),h=a(151),f=a(320),E=(a(170),a(142)),b=a.n(E),k=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"nav"},r.a.createElement(g.a,{verticalAlign:"middle"},r.a.createElement(g.a.Column,{width:4},r.a.createElement(h.a,{src:b.a,size:"small",wrapped:!0})),r.a.createElement(g.a.Column,{width:12},r.a.createElement(f.a,{transparent:!0,inverted:!0,className:"full-width",onChange:this.props.onChange,placeholder:"Search Movie Title..."}))))}}]),a}(n.PureComponent),w=a(319),y=a(42),_=a.n(y),C={},N=function(){var e;return function(){var t=Object(m.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.cancel(),e=_.a.CancelToken.source(),t.prev=2,!C[a]){t.next=5;break}return t.abrupt("return",C[a]);case 5:return t.next=7,_()(a,{cancelToken:e.token});case 7:return n=t.sent,r=n.data.results,C[a]=r,t.abrupt("return",r);case 13:t.prev=13,t.t0=t.catch(2),_.a.isCancel(t.t0)?console.log("Request canceled",t.t0.message):console.log("Something went wrong: ",t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}()}(),O=a(31),j=(a(305),function(e){var t,n,l=e.item,c=l.title,i=l.poster_path,o=l.vote_average,s=l.name,m=l.id;return r.a.createElement(g.a.Column,{className:"movies"},r.a.createElement(O.b,{to:"/".concat(m)},r.a.createElement(w.a,{className:i&&"no_image_holder"},r.a.createElement(h.a,{src:i?"http://image.tmdb.org/t/p/w185".concat(i):a(141),wrapped:!0,ui:!1,alt:"poster image"}),r.a.createElement(w.a.Content,null,r.a.createElement(w.a.Header,null,(n=19,(t=c||s).length>n?t.trim().substring(0,n-3).trim()+"...":t)),r.a.createElement(w.a.Meta,null,o)))))}),S=function(e){var t=e.list,a=r.a.createElement("h3",null,"Loading...");return t&&(a=t.map((function(e,t){return r.a.createElement(j,{key:t,item:e})}))),r.a.createElement(g.a,{doubling:!0,columns:5,divided:"vertically"},r.a.createElement(g.a.Row,null,a))},x=a(316),T=a(315),M=a(322),z=a(28),I=a(152),R=a(43);function A(){var e=Object(z.f)();return r.a.createElement("div",null,r.a.createElement("a",{className:"back-link",onClick:function(t){t.preventDefault(),e.goBack()},title:"Go back"},r.a.createElement(R.a,{link:!0,size:"large",name:"arrow alternate circle left outline"})))}a(307);var D="",H=function(){var e=Object(z.g)().movieId,t=Object(n.useState)(null),l=Object(I.a)(t,2),c=l[0],i=l[1];Object(n.useEffect)((function(){_()("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=cfe422613b250f702980a3bbf9e90716")).then((function(e){i(e.data)})).catch((function(e){return console.log(e)}))}),[]);return r.a.createElement("div",{className:"full-view-card"},r.a.createElement(A,null),r.a.createElement(w.a,null,c&&function(){var e=c.title,t=c.tagline,n=c.genres,l=c.release_date,i=c.runtime,o=c.overview,s=c.poster_path,m=c.vote_average,u=c.name,d=n&&n.map((function(e){return r.a.createElement("span",{key:e.id},e.name)}));return s&&(D="https://image.tmdb.org/t/p/original"+s,document.body.style.transition="background-image 0.5s ease-in-out;",document.body.style.backgroundImage="url("+D+")"),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"full-view-card__image ".concat(s&&"no_image_holder")},r.a.createElement(h.a,{src:s?"http://image.tmdb.org/t/p/w500".concat(s):a(141),alt:"poster image"})),r.a.createElement(w.a.Content,null,r.a.createElement(M.a,{as:"h1"},e||u),r.a.createElement(T.a,null),r.a.createElement(w.a.Meta,{className:"tagline"},t),r.a.createElement(w.a.Description,null,r.a.createElement("p",null,o),r.a.createElement("div",{className:"additional-details"},r.a.createElement(g.a,{columns:2},r.a.createElement(g.a.Row,{className:"release-details"},r.a.createElement(g.a.Column,null,"Original Release: ",r.a.createElement("span",{className:"meta-data"},l)),r.a.createElement(g.a.Column,null,"Running Time: ",r.a.createElement("span",{className:"meta-data"},i," mins")),r.a.createElement(g.a.Column,null," Vote Average: ",r.a.createElement("span",{className:"meta-data"},m," / 10")))),r.a.createElement("div",{className:"genre-list"},d)))))}()))},q=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={movies:null,loading:!1,value:""},e.search=function(t){e.setState({loading:!0});var a=e.props,n=a.location,r=a.history;if(!t)return e.getTrending();N("https://api.themoviedb.org/3/search/movie?api_key=cfe422613b250f702980a3bbf9e90716&query=".concat(t)).then((function(t){"/"!==n.pathname&&r.push("/"),e.setState({movies:t,loading:!1})}))},e.getTrending=function(){e.setState({loading:!0}),N("https://api.themoviedb.org/3/trending/all/week?api_key=cfe422613b250f702980a3bbf9e90716").then((function(t){e.setState({movies:t,loading:!1})}))},e.onChangeHandler=function(){var t=Object(m.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.search(a.target.value),e.setState({value:a.target.value});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.renderMovies=function(){if(document.body.style.backgroundImage="none",e.state.loading)return r.a.createElement(x.a,{active:!0,size:"large"},"Loading");var t=r.a.createElement(T.a,{className:"white-color",horizontal:!0},r.a.createElement(M.a,{as:"h3"},"There's no movies"));return e.state.movies&&e.state.movies.length&&(t=e.state.value?r.a.createElement(S,{list:e.state.movies}):r.a.createElement("div",null,r.a.createElement(T.a,{horizontal:!0},r.a.createElement(M.a,{className:"white-color",as:"h2",icon:"star",content:"Weekly trending"})),r.a.createElement(S,{list:e.state.movies}))),t},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getTrending()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{onChange:this.onChangeHandler}),r.a.createElement(z.c,null,r.a.createElement(z.a,{path:"/",exact:!0,render:this.renderMovies}),r.a.createElement(z.a,{path:"/:movieId",component:H})))}}]),a}(n.Component),B=Object(z.h)(q);var F=function(){return r.a.createElement("div",{className:"outer-container"},r.a.createElement(i.a,null,r.a.createElement(B,null)))};a(308);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O.a,{basename:"/tmdb_movie_search"},r.a.createElement(F,null))),document.getElementById("root"))}},[[163,1,2]]]);
//# sourceMappingURL=main.5409de0e.chunk.js.map