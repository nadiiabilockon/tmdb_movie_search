(this.webpackJsonptmdb_movie_search=this.webpackJsonptmdb_movie_search||[]).push([[0],{137:function(e,a,t){e.exports=t.p+"static/media/glyphicons-basic-picture.7ebd0560.svg"},140:function(e,a,t){e.exports=t.p+"static/media/tmdb.27b65cb4.svg"},163:function(e,a,t){e.exports=t(309)},170:function(e,a,t){},305:function(e,a,t){},306:function(e,a,t){},308:function(e,a,t){},309:function(e,a,t){"use strict";t.r(a);var n,r=t(0),l=t.n(r),c=t(31),i=t.n(c),o=(t(168),t(317)),s=t(38),m=t.n(s),u=t(64),d=t(138),v=t(139),p=t(152),g=t(150),h=t(321),f=t(149),E=t(320),b=(t(170),t(140)),w=t.n(b),k=function(e){return l.a.createElement("div",{className:"nav"},l.a.createElement(h.a,{verticalAlign:"middle"},l.a.createElement(h.a.Column,{width:4},l.a.createElement(f.a,{src:w.a,size:"small",wrapped:!0})),l.a.createElement(h.a.Column,{width:12},l.a.createElement(E.a,{transparent:!0,inverted:!0,className:"full-width",onChange:e.onChange,placeholder:"Search Movie Title..."}))))},_=t(319),N=t(40),C=t.n(N),y={},j=function(){var e;return function(){var a=Object(u.a)(m.a.mark((function a(t){var n,r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&e.cancel(),e=C.a.CancelToken.source(),a.prev=2,!y[t]){a.next=5;break}return a.abrupt("return",y[t]);case 5:return a.next=7,C()(t,{cancelToken:e.token});case 7:return n=a.sent,r=n.data.results,y[t]=r,a.abrupt("return",r);case 13:a.prev=13,a.t0=a.catch(2),C.a.isCancel(a.t0)?console.log("Request canceled",a.t0.message):console.log("Something went wrong: ",a.t0.message);case 16:case"end":return a.stop()}}),a,null,[[2,13]])})));return function(e){return a.apply(this,arguments)}}()}(),O=(t(305),function(e){var a,n,r=e.item,c=r.title,i=r.poster_path,o=r.vote_average,s=r.name,m=r.id;return l.a.createElement(h.a.Column,{className:"movies"},l.a.createElement(_.a,{href:"/".concat(m),className:i?"":"no_image_holder"},l.a.createElement(f.a,{src:i?"http://image.tmdb.org/t/p/w185".concat(i):t(137),wrapped:!0,ui:!1}),l.a.createElement(_.a.Content,null,l.a.createElement(_.a.Header,null,(n=19,(a=c||s).length>n?a.trim().substring(0,n-3).trim()+"...":a)),l.a.createElement(_.a.Meta,null,o))))}),S=function(e){var a=e.list,t=l.a.createElement("h3",null,"Loading...");return a&&(t=a.map((function(e,a){return l.a.createElement(O,{key:a,item:e})}))),l.a.createElement(h.a,{doubling:!0,columns:5,divided:"vertically"},l.a.createElement(h.a.Row,null,t))},x=t(316),T=t(315),M=t(322),z=t(28),R=t(151),I=t(41);t(306);function H(e){var a=[];return void 0!==e&&e.forEach((function(e){a.push(e.name)})),a.join(", ")}var q=function(){var e=Object(z.g)().movieId,a=Object(r.useState)(null),c=Object(R.a)(a,2),i=c[0],o=c[1],s=Object(z.f)();if(Object(r.useEffect)((function(){C()("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=cfe422613b250f702980a3bbf9e90716")).then((function(e){o(e.data)})).catch((function(e){return console.log(e)}))})),Object(r.useEffect)((function(){n&&(document.body.style.backgroundImage="url("+n+")")})),i){var m=i.title,u=i.tagline,d=i.genres,v=i.release_date,p=i.production_companies,g=i.runtime,E=i.overview,b=i.poster_path,w=i.vote_average,k=i.name,N=H(d),y=H(p);return b&&(n="https://image.tmdb.org/t/p/original"+b),l.a.createElement("div",{className:"full-view-card"},l.a.createElement("div",null,l.a.createElement("a",{className:"back-link",onClick:function(){return s.goBack()},title:"Go back"},l.a.createElement(I.a,{link:!0,size:"large",name:"arrow alternate circle left outline"}))),l.a.createElement(_.a,null,l.a.createElement("div",{className:"full-view-card__image ".concat(b?"":"no_image_holder")},l.a.createElement(f.a,{src:b?"http://image.tmdb.org/t/p/w500".concat(b):t(137)})),l.a.createElement(_.a.Content,null,l.a.createElement(M.a,{as:"h1"},m||k),l.a.createElement(T.a,null),l.a.createElement(_.a.Meta,{className:"tagline"},u),l.a.createElement(_.a.Description,null,l.a.createElement("p",null,E),l.a.createElement("div",{className:"additional-details"},l.a.createElement(M.a,{sub:!0,className:"genre-list"},N),l.a.createElement("p",null,y),l.a.createElement(h.a,{columns:2},l.a.createElement(h.a.Row,{className:"release-details"},l.a.createElement(h.a.Column,null,"Original Release: ",l.a.createElement("span",{className:"meta-data"},v)),l.a.createElement(h.a.Column,null,"Running Time: ",l.a.createElement("span",{className:"meta-data"},g," mins")),l.a.createElement(h.a.Column,null," Vote Average: ",l.a.createElement("span",{className:"meta-data"},w," / 10")))))))))}return l.a.createElement(M.a,{as:"h2"},"No info")},A=function(e){Object(p.a)(t,e);var a=Object(g.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).search=function(e){n.setState({loading:!0});var a=n.props,t=a.location,r=a.history;if(!e)return n.getTrending();j("https://api.themoviedb.org/3/search/movie?api_key=cfe422613b250f702980a3bbf9e90716&query=".concat(e)).then((function(e){"/"!==t.pathname&&r.push("/"),n.setState({movies:e,loading:!1})}))},n.getTrending=function(){n.setState({loading:!0}),j("https://api.themoviedb.org/3/trending/all/week?api_key=cfe422613b250f702980a3bbf9e90716").then((function(e){n.setState({movies:e,loading:!1})}))},n.onChangeHandler=function(){var e=Object(u.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.search(a.target.value),n.setState({value:a.target.value});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.renderMovies=function(){if(n.state.loading)return l.a.createElement(x.a,{active:!0,size:"large"},"Loading");var e=l.a.createElement(T.a,{className:"white-color",horizontal:!0},l.a.createElement(M.a,{as:"h3"},"There's no movies"));return n.state.movies&&n.state.movies.length&&(e=n.state.value?l.a.createElement(S,{list:n.state.movies}):l.a.createElement("div",null,l.a.createElement(T.a,{horizontal:!0},l.a.createElement(M.a,{className:"white-color",as:"h2",icon:"star",content:"Weekly trending"})),l.a.createElement(S,{list:n.state.movies}))),e},n.state={movies:null,loading:!1,value:""},n}return Object(v.a)(t,[{key:"componentDidMount",value:function(){this.getTrending()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(k,{onChange:this.onChangeHandler}),l.a.createElement(z.c,null,l.a.createElement(z.a,{path:"/",exact:!0,render:this.renderMovies}),l.a.createElement(z.a,{path:"/:movieId",component:q})))}}]),t}(r.Component),B=Object(z.h)(A);var D=function(){return l.a.createElement("div",{className:"outer-container"},l.a.createElement(o.a,null,l.a.createElement(B,null)))},J=(t(308),t(63));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(J.a,null,l.a.createElement(D,null))),document.getElementById("root"))}},[[163,1,2]]]);
//# sourceMappingURL=main.85c6257f.chunk.js.map